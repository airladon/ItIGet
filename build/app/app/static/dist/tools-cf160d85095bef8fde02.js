(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{10:function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=(n(9),n(27));function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}o.a.Diagram;var f=function(){function t(e){var n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),(n=function(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,c(t).call(this,e))).diagram=null,n.currentSectionIndex=0,n.firstPageShown=!0,n.state={},n.inTransition=!1,window.presentationLessonTransitionStatus="noSteady",n.refresh=function(){},n.comingFrom="",n.transitionCancelled=!1,n.goToSectionIndex=0,n.type="presentation",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(t,r.a),function(t,e,n){e&&a(t.prototype,e)}(t,[{key:"getContentHtml",value:function(){return this.content.sections[this.currentSectionIndex].getContent()}},{key:"nextSection",value:function(){var t=this.diagram;if(window.presentationLessonTransitionStatus="notSteady",this.currentSectionIndex<this.content.sections.length-1&&t){if(this.inTransition){var e=this.firstPageShown,n=this.comingFrom;if(this.stopTransition(),"prev"===n||e)return}else this.stopDiagrams();this.firstPageShown=!1,this.currentSection().blankTransition.toNext&&this.refresh("",this.currentSectionIndex),this.content.toggleInfo(!1),this.transitionStart("prev"),this.goToSectionIndex=this.currentSectionIndex+1,this.currentSection().transitionToNext(this.finishTransToNextOrPrev.bind(this))}this.renderDiagrams()}},{key:"prevSection",value:function(){var t=this.diagram;if(window.presentationLessonTransitionStatus="notSteady",0<this.currentSectionIndex&&t){if(this.inTransition){var e=this.comingFrom,n=this.firstPageShown;if(this.stopTransition(),"next"===e||n)return}else this.stopDiagrams();this.firstPageShown=!1,this.currentSection().blankTransition.toNext&&this.refresh("",this.currentSectionIndex),this.content.toggleInfo(!1),this.transitionStart("next"),this.goToSectionIndex=this.currentSectionIndex-1,this.content.sections[this.currentSectionIndex-1].skipWhenComingFromNext&&0<this.currentSectionIndex-1&&(this.goToSectionIndex=this.currentSectionIndex-2),this.currentSection().transitionToPrev(this.finishTransToNextOrPrev.bind(this))}this.renderDiagrams()}},{key:"goToSection",value:function(t){window.presentationLessonTransitionStatus="notSteady";var e=0;"number"==typeof t?e=t:this.content.sections.forEach(function(n,i){n.title===t&&(e=i)}),0<=e&&e<this.content.sections.length&&(this.inTransition?(this.stopTransition(),this.firstPageShown&&(this.firstPageShown=!1)):this.stopDiagrams(),this.currentSection().blankTransition.toGoto&&this.refresh("",this.currentSectionIndex),this.content.toggleInfo(!1),this.transitionStart("goto"),this.goToSectionIndex=e,this.currentSection().transitionToAny(this.finishTransToAny.bind(this))),this.renderDiagrams()}},{key:"transitionStart",value:function(t){var e=0<arguments.length&&void 0!==t?t:"";this.inTransition=!0,"prev"===(this.comingFrom=e)?(this.content.goingTo="next",this.content.comingFrom="prev"):"next"===e?(this.content.goingTo="prev",this.content.comingFrom="next"):(this.content.goingTo="goto",this.content.comingFrom="goto");var n=this.diagram;n&&(n.inTransition=!0)}},{key:"finishTransToNextOrPrev",value:function(t){!1===(!(0<arguments.length&&void 0!==t)||t)?this.finishTransToAny():this.currentSection().transitionToAny(this.finishTransToAny.bind(this))}},{key:"finishTransToAny",value:function(){this.setLeaveStateAndMoveToNextSection()}},{key:"setLeaveStateAndMoveToNextSection",value:function(){!function(){var t=document.getElementById("id_lesson__info_button");t instanceof HTMLElement&&t.classList.add("lesson__info_hide")}(),function(){var t=document.getElementById("id_lesson__interactive_element_button");t instanceof HTMLElement&&t.classList.add("lesson__interactive_element_button__hide")}();var t=this.currentSection().setLeaveState();null!=t&&(this.state=t),this.currentSectionIndex=this.goToSectionIndex,this.currentSection().setBlanks();var e=this.getContentHtml();("prev"===this.comingFrom&&this.currentSection().blankTransition.fromPrev||"next"===this.comingFrom&&this.currentSection().blankTransition.fromNext||"goto"===this.comingFrom&&this.currentSection().blankTransition.fromGoto)&&(e=""),this.refresh(e,this.currentSectionIndex,this.setState.bind(this))}},{key:"fadeInTextFromPrev",value:function(){var t=this.content.sections[this.currentSectionIndex];if(t.fadeInFromPrev){var e=this.content.sections[this.currentSectionIndex-1];if(t.getContent(!1)!==e.getContent(!1)){var n=document.getElementById("id_lesson__diagram_text");null!=n&&n.classList.add("lesson__diagram_text_fade_in")}}}},{key:"setState",value:function(){var t=this.diagram,e=this.content.sections[this.currentSectionIndex];t&&(e.setEnterState(this.state),e.currentInteractiveItem=-1,e.setVisible(),this.renderDiagrams(),this.transitionCancelled&&this.finishTransitionFromAny(),"next"===this.comingFrom?e.transitionFromNext(this.finishTransFromNextOrPrev.bind(this)):"prev"===this.comingFrom?(this.fadeInTextFromPrev(),e.transitionFromPrev(this.finishTransFromNextOrPrev.bind(this))):e.transitionFromAny(this.finishTransitionFromAny.bind(this)))}},{key:"finishTransFromNextOrPrev",value:function(t){!1===(!(0<arguments.length&&void 0!==t)||t)?this.finishTransitionFromAny():this.content.sections[this.currentSectionIndex].transitionFromAny(this.finishTransitionFromAny.bind(this))}},{key:"finishTransitionFromAny",value:function(){this.refresh(this.getContentHtml(),this.currentSectionIndex,this.componentUpdateComplete.bind(this))}},{key:"setOnclicks",value:function(){var t=this.content.sections[this.currentSectionIndex];t.setOnClicks(),null!=t.refresh&&t.refresh()}},{key:"componentUpdateComplete",value:function(){this.setOnclicks();var t=this.content.sections[this.currentSectionIndex];t.setSteadyState(this.state),this.firstPageShown=!1,this.inTransition=!1;var e=this.diagram;e&&(e.inTransition=!1),t.setInfoButton(),this.updateInteractiveItems(),this.comingFrom="",this.transitionCancelled=!1,this.renderDiagrams(),window.presentationLessonTransitionStatus="steady"}},{key:"updateInteractiveItems",value:function(){var t=this.content.sections[this.currentSectionIndex];t.setInteractiveElements(),t.setInteractiveElementsButton()}},{key:"currentSection",value:function(){return this.content.sections[this.currentSectionIndex]}},{key:"stopDiagrams",value:function(){var t=this.diagram;t&&t.stop(!0,!0)}},{key:"highlightNextInteractiveItem",value:function(){var t=this.content.sections[this.currentSectionIndex].getNextInteractiveItem();if(t){var e=t.element,n=t.location;this.content.highlightInteractiveElement(e,n)}}},{key:"stopTransition",value:function(){var t=this.diagram;this.transitionCancelled=!0,t&&(t.inTransition=!1,t.stop(!0,!0)),this.inTransition=!1}},{key:"renderDiagrams",value:function(){var t=this.diagram;t&&t.animateNextFrame()}},{key:"closeDiagram",value:function(){var t=this.diagram;t&&t.destroy(),this.diagram=null}},{key:"initialize",value:function(){this.closeDiagram(),l(c(t.prototype),"initialize",this).call(this),this.diagram=this.content.diagram,this.diagram.lesson=this}},{key:"disableInteractiveItems",value:function(){var t=document.getElementById("id_lesson__interactive_element_button");null!=t&&t.classList.add("lesson__interactive_element_button__hide")}},{key:"enableInteractiveItems",value:function(){this.updateInteractiveItems()}}]),t}();e.a=f},14:function(t,e,n){"use strict";n.d(e,"c",function(){return a}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return c}),n.d(e,"e",function(){return u}),n.d(e,"h",function(){return d}),n.d(e,"i",function(){return h}),n.d(e,"d",function(){return f}),n.d(e,"a",function(){return m}),n.d(e,"b",function(){return p});var i=n(0),o=n.n(i),r=o.a.Point,s=o.a.tools.misc.joinObjects,a=function(t,e){var n=e||t,i="-"===n[0]||n.startsWith("".concat(t,"-"))?"".concat(t," ").concat(n):n,o=" ".concat(t,"-");return"".concat(i.split(" -").join(o))};function l(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(document.getElementById(t))null!=n&&n(t,e);else{var i=document.createElement("script");i.type="text/javascript",i.src=e,i.id=t,document.body&&document.body.appendChild(i),i.onload=function(){null!=n&&n(t,e)}}}function c(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(document.getElementById(t))null!=n&&n(t,e);else{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.href=e,i.id=t,document.body&&document.body.appendChild(i),i.onload=function(){null!=n&&n(t,e)}}}function u(t){var e=document.cookie;if(null!=e){var n=RegExp("".concat(t,"=[^;]*")),i=e.match(n);if(null!=i)return";"===(i=i[0].trim()).slice(-1).charAt(0)&&(i=i.slice(0,-1)),i.split("=")[1]}return""}function f(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"/",o="";if(n){var r=new Date;r.setTime(r.getTime()+60*n*1e3),o="; expires=".concat(r.toUTCString())}document.cookie="".concat(t,"=").concat(e).concat(o,"; path=").concat(i)}function _(t){var e="/logout";!1===t&&(e="/login");var n="?next=".concat(window.location.pathname.replace(/\/$/,""));window.location="".concat(e).concat(n)}function d(){_(!1)}function h(){_(!0)}function m(t,e){var n={color:[0,0,0,0],position:new r(0,0),width:1,height:1,interactiveLocation:new r(0,0)},i=s({},n);"number"==typeof t?i.width=t:i=s({},i,t),e&&("number"==typeof e?i.height=e:i=s({},i,e));for(var o=arguments.length,a=new Array(2<o?o-2:0),l=2;l<o;l++)a[l-2]=arguments[l];return null!=a&&0<a.length&&(i=s.apply(void 0,[{},i].concat(a))),{name:"activator",method:"polyLine",options:{points:[new r(-i.width/2,-i.height/2),new r(-i.width/2,i.height/2),new r(i.width/2,i.height/2),new r(i.width/2,-i.height/2)].map(function(t){return t.add(i.position)}),color:i.color,close:!0},mods:{isTouchable:!0,touchInBoundingRect:!0,interactiveLocation:i.interactiveLocation}}}function p(t,e,n,i){null==window.quickReference&&(window.quickReference={}),Object.keys(i).forEach(function(o){window.quickReference["".concat(t,"/").concat(e,"/").concat(n,"/").concat(o)]=i[o]})}},146:function(t,e,n){"use strict";var i=n(1),o=n(0),r=n.n(o);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,l(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(t,i.Component),function(t,e,n){e&&a(t.prototype,e)}(t,[{key:"render",value:function(){var t=this.props,e=!1;null!=t.title&&(e=t.title);var n=t.label||"",o=t.id||"",r={};null==t.left&&null==t.top||(r={left:t.left||0,top:t.top||0});var s=t.link||"/",a="navigator__lesson_tile_containter navigator__lesson_shadow";e&&(a="navigator__lesson_tile_containter navigator__lesson_tile_containter_title");var l="/static/assets/defaultTile.png";null!=t.imgLink&&(l="/static/dist".concat(t.imgLink)),"disabled"===t.state&&(a="".concat(a," navigator__lesson_tile_disabled"),null!=t.imgLinkDisabled&&(l="/static/dist".concat(t.imgLinkDisabled))),"selected"===t.state&&(a="".concat(a," navigator__lesson_tile_selected"),null!=t.imgLinkSelected&&(l="/static/dist".concat(t.imgLinkSelected)));var c=i.createElement("div",{className:a},i.createElement("img",{src:l,className:"navigator__lesson_tile_image",alt:"Icon for ".concat(n)}),i.createElement("div",{className:"navigator__lesson_tile_title_container"},i.createElement("div",{className:"navigator__lesson_tile_title"},n)));return e||"disabled"===t.state?i.createElement("div",{id:o,style:r,className:"navigator__lesson_tile"},c):i.createElement("a",{href:s,id:o,style:r,className:"navigator__lesson_tile"},c)}}]),t}(),f=(n(17),n(159));function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",function(){return v});var p=r.a.Point,y=r.a.Rect,g=r.a.tools.css.getDefinedCSSVariables,v=function(){function t(e){var n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),(n=function(t,e){return!e||"object"!==_(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,h(t).call(this,e))).lessonTrees=function(){var t=function(t,e){var n=(arguments.length,3),i={};return Object.keys(t).forEach(function(e){var o=t[e],r=o.path.split("/"),s=r[n],a=r.slice(0,n+1).join("/");s in i||(i[s]={path:a,lessons:[],name:s.replace(/_/," ")}),i[s].lessons.push(o)}),i}(Object(f.a)()),e={};return Object.keys(t).forEach(function(n){var i=t[n].lessons,o=[],r={},s={},a=[];i.forEach(function(t){r[t.uid]=t,a.push(t.uid)});for(var l=0,c=i.length,u=function(){var t=[],e={};Object.keys(r).forEach(function(n){var i=r[n],o=!0;i.dependencies.forEach(function(t){!(t in s)&&-1<a.indexOf(t)&&(o=!1)}),o&&(e[n]=n,t.push(i),delete r[n])}),s=Object.assign(e,s),o.push(t),l+=1};0<Object.keys(r).length&&l<c;)u();e[n]={tree:o,name:t[n].name,path:t[n].path}}),e}(),n.lessonIndex=n.lessonTrees[e.learningPath].tree,n.learningPathPath=n.lessonTrees[e.learningPath].path,n.learningPathName=n.lessonTrees[e.learningPath].name,n.getVariables(),n.layoutLessonTiles(),n.key=0,n.selected=e.selected||"",n.asTitle=!1,""!==n.selected&&(n.asTitle=!0),n.learningPath=e.learningPath,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(t,i.Component),function(t,e,n){e&&d(t.prototype,e)}(t,[{key:"getVariables",value:function(){var t=document.body;if(t){var e=g(t,["--navigator__tile_width","--navigator__tile_height","--navigator__tile_vSpace","--navigator__tile_hSpace"],"--navigator__");this.tileWidth=e.tileWidth,this.tileHeight=e.tileHeight,this.tileVSpace=e.tileVSpace,this.tileHSpace=e.tileHSpace}}},{key:"layoutLessonTiles",value:function(){var t=this;this.lessonArray=[];var e=this.tileWidth,n=this.tileHeight,i=this.tileVSpace,o=this.tileHSpace,r=o;this.lessonArray=[];var s=1;this.lessonIndex.forEach(function(t){Array.isArray(t)&&t.length>s&&(s=t.length)});var a=(s*this.tileHeight+(s-1)*i+2*i)/2;this.lessonIndex.forEach(function(s){if(Array.isArray(s)){var l=s.length,c=a-(l*n+(l-1)*i)/2+n/2;c<a-2*n-2*i&&(c=a-2*n-2*i),s.forEach(function(e,o){var s=c+o*(n+i);e.location=new p(r,s-t.tileHeight/2),t.lessonArray.push(e)})}else s.location=new p(r,a-t.tileHeight/2),t.lessonArray.push(s);r+=e+o}),this.getLessonTilesBounds()}},{key:"createLessonJsx",value:function(t){this.key+=1;var e="",n=t.location,o=n.x,r=n.y;t.title===this.selected&&(e="selected",this.selectedLesson=t);var s=t.title;!1===t.enabled&&(e="disabled",s="".concat(s));for(var a="",l=["explanation","summary","examples","links"],c=["base","static"],f=function(e){for(var n=t.topics[e],i=0;i<c.length;i+=1){var o=c[i];if(o in n)return void(a="".concat(t.path,"/").concat(t.uid,"/").concat(e,"/").concat(o))}""===a&&0<Object.keys(n).length&&(a="".concat(t.path,"/").concat(t.uid,"/").concat(e,"/").concat(Object.keys(n)[0]))},_=0;_<l.length;_+=1){var d=l[_];if(d in t.topics&&(f(d),""!==a))break}return""===a&&0<Object.keys(t.topics).length&&f(Object.keys(t.topics)[0]),""===a&&(e="disabled"),i.createElement(u,{id:t.id,link:a,imgLink:t.imgLink,imgLinkSelected:t.imgLinkSelected,imgLinkDisabled:t.imgLinkDisabled,key:this.key,label:s,state:e,left:"".concat(o,"px"),top:"".concat(r,"px"),title:!1})}},{key:"lessons",value:function(){var t=this,e=[];return this.lessonIndex.forEach(function(n){Array.isArray(n)?n.forEach(function(n){e.push(t.createLessonJsx(n))}):e.push(t.createLessonJsx(n))}),e}},{key:"componentDidMount",value:function(){this.centerLessons(),this.scrollToSelected()}},{key:"scrollToSelected",value:function(){var t=document.getElementById("id_navigator__scroll_container_".concat(this.learningPath)),e=document.getElementById("id_navigator__container_".concat(this.learningPath));if(null!=t&&null!=e){var n=e.getBoundingClientRect(),i=Math.min(this.tileWidth,n.width/2-this.tileWidth/2),o=(n.height-this.lessonTilesBounds.height)/2;""!==this.selected?(t.scrollLeft=this.selectedLesson.location.x+i-t.clientWidth/2+this.tileWidth/2,t.scrollTop=this.selectedLesson.location.y+o-t.clientHeight/2+this.tileHeight/2):(t.scrollLeft=this.lessonArray[0].location.x+i-t.clientWidth/2+this.tileWidth/2,t.scrollTop=this.lessonArray[0].location.y+o-t.clientHeight/2+this.tileHeight/2)}}},{key:"centerLessons",value:function(){var t=document.getElementById("id_navigator__container_".concat(this.learningPath)),e=document.getElementById("id_navigator__lessons_positions_container_".concat(this.learningPath));if(null!=e&&null!=t){var n=t.getBoundingClientRect(),i=n.height,o=Math.min(this.tileWidth,n.width/2-this.tileWidth/2);e.style.left="".concat(o,"px"),e.style.top="".concat((i-this.lessonTilesBounds.height)/2,"px"),e.style.width="".concat(this.lessonTilesBounds.width+o,"px"),e.style.height="".concat(this.lessonTilesBounds.height,"px")}}},{key:"getLessonTilesBounds",value:function(){var t=this,e=0,n=0,i=0,o=0,r=!0;this.lessonArray.forEach(function(s){r?(o=s.location.x,e=s.location.x+t.tileWidth,i=s.location.y,n=s.location.y+t.tileHeight,r=!1):(s.location.x+t.tileWidth>e&&(e=s.location.x+t.tileWidth),s.location.y+t.tileHeight>n&&(n=s.location.y+t.tileHeight),s.location.y<i&&(i=s.location.y))}),i-=this.tileVSpace,n+=this.tileVSpace,o-=this.tileHSpace,e+=this.tileHSpace,this.lessonTilesBounds=new y(o,i,e-o,n-i)}},{key:"render",value:function(){return i.createElement("div",null,i.createElement("div",{className:"navigator__topic_title_subtext"},"Learning path"),i.createElement("div",{className:"navigator__topic_title_container"},i.createElement("img",{src:"/static/dist/".concat(this.learningPathPath,"/topic.png"),className:"navigator__topic_title_img",alt:"Icon for ".concat(this.learningPathName)}),i.createElement("div",{className:"navigator__topic_title"},i.createElement("div",{className:"navigator__topic_title_text"},this.learningPathName))),i.createElement("div",{id:"id_navigator__container_".concat(this.learningPath),className:"naviagator__container navigator__container_with_shadow"},i.createElement("div",{className:"navigator__left_side"}),i.createElement("div",{className:"navigator__right_side"}),i.createElement("div",{id:"id_navigator__scroll_container_".concat(this.learningPath),className:"navigator__scroll_container"},i.createElement("div",{id:"id_navigator__lessons_positions_container_".concat(this.learningPath),className:"navigator__lessons_positions_container"},this.lessons()))))}}]),t}()},160:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n(1),o=n(161);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,a(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(t,i.Component),function(t,e,n){e&&s(t.prototype,e)}(t,[{key:"render",value:function(){var t=this.props,e=[];return null!=t.list&&t.list.forEach(function(t){e.push({label:t.label,link:t.link,active:t.active})}),i.createElement(o.a,{label:t.label,id:t.id,direction:t.direction,xAlign:t.xAlign,list:e,selected:t.selected})}}]),t}()},161:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i=n(0),o=n.n(i),r=n(1);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=o.a.tools.misc.generateUniqueId,f=function(){function t(e){var n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),(n=function(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,l(t).call(this,e))).id="",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(t,r.Component),function(t,e,n){e&&a(t.prototype,e)}(t,[{key:"offButtonEvent",value:function(t){if(t.target instanceof HTMLElement){var e=t.target.parentElement;e instanceof HTMLElement&&t.target!==this.labelElement&&(this.close(),t.target instanceof HTMLElement&&e.parentElement===this.itemList&&t.target.click())}}},{key:"close",value:function(){this.itemList.classList.add("dropdown_button_list_hide"),this.itemList.style.left="",this.itemList.style.top=""}},{key:"toggle",value:function(){if(this.itemList.classList.contains("dropdown_button_list_hide")){this.itemList.style.visibility="hidden",this.itemList.classList.remove("dropdown_button_list_hide");var t=this.buttonElement.getBoundingClientRect(),e=this.itemList.getBoundingClientRect(),n=window.innerWidth||document.documentElement.clientWidth,i=0;"down"===this.direction?this.itemList.style.top="".concat(t.height,"px"):this.itemList.style.top="".concat(-e.height,"px"),"left"===this.xAlign?i=0:"right"===this.xAlign?i=t.width-e.width:"center"===this.xAlign&&(i=t.width/2-e.width/2),t.left+i+e.width>n&&(i-=t.left+i+e.width-n+5),this.itemList.style.left="".concat(i,"px"),this.itemList.style.visibility="visible"}else this.itemList.style.left="",this.itemList.style.top="",this.itemList.classList.add("dropdown_button_list_hide")}},{key:"componentDidMount",value:function(){var t=this,e=document.getElementById(this.id),n=document.getElementById("".concat(this.id,"_label")),i=document.body,o=document.getElementById("".concat(this.id,"_list"));null!=e&&null!=i&&null!=o&&null!=n&&(this.buttonElement=e,this.labelElement=n,this.itemList=o,e.addEventListener("mousedown",this.toggle.bind(this)),i.addEventListener("mousedown",this.offButtonEvent.bind(this),!0),e.addEventListener("keydown",function(e){13!==e.keyCode&&32!==e.keyCode||t.toggle()})),window.addEventListener("resize",this.close.bind(this))}},{key:"render",value:function(){var t=this,e=this.props,n=e.label||"";this.xAlign=e.xAlign||"left",this.direction=e.direction||"down";var i=" dropdown_button_arrow_down";"up"===this.direction&&(i=" dropdown_button_arrow_up");var o="dropdown_button_container";null!=e.selected&&!0===e.selected&&(o="".concat(o," dropdown_button_selected")),e.classes&&(o="".concat(o," ").concat(e.classes)),this.id=e.id||u("id__dropdown_button");var s=[];return null!=e.list&&e.list.forEach(function(e,n){var i,o="";if(e.active&&(o="".concat(o," dropdown_button_list_item_active")),e.separator&&(o="".concat(o," dropdown_button_list_item_separator")),null==e.link&&(o="".concat(o," dropdown_button_list_item_disabled")),null!=e.link){var a=e.link;"string"==typeof e.link&&(a=function(){window.location=e.link});var l=function(){t.close(),null!=a&&"function"==typeof a&&a()};i=r.createElement("div",{onClick:l,tabIndex:0,role:"button",onKeyDown:function(t){13!==t.keyCode&&32!==t.keyCode||l()},className:"dropdown_button_list_item_link"},e.label)}else i=r.createElement("div",null,e.label);null!=i&&s.push(r.createElement("div",{className:"dropdown_button_list_item".concat(o),key:n},i))}),r.createElement("div",{className:o,tabIndex:0,role:"button",id:"".concat(this.id)},r.createElement("div",{className:"dropdown_button_label_container",id:"".concat(this.id,"_label")},r.createElement("div",{className:"dropdown_button_label"},n),r.createElement("div",{className:"dropdown_button_arrow".concat(i)})),r.createElement("div",{className:"dropdown_button_list dropdown_button_list_hide",id:"".concat(this.id,"_list")},s))}}]),t}()},162:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(1);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,s(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,i.Component),function(t,e,n){e&&r(t.prototype,e)}(t,[{key:"renderContent",value:function(){return"string"==typeof this.props.content?i.createElement("div",{className:"lesson__qr__content",dangerouslySetInnerHTML:{__html:this.props.content}}):i.createElement("div",{className:"lesson__qr__content"},this.props.content)}},{key:"close",value:function(){null!=this.props.onClose&&this.props.onClose();var t=document.getElementById(this.props.closeId);null!=t&&t.classList.add("lesson__hide")}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.close.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.close.bind(this))}},{key:"render",value:function(){var t="";return"string"==typeof this.props.link&&(t=i.createElement("a",{className:"lesson__qr__link_link",id:"id_lesson__qr__link_link",href:"".concat(window.location.origin,"/Lessons/").concat(this.props.link),rel:"noreferrer noopener",target:"_blank"},"Go to lesson to see why")),i.isValidElement(this.props.link)&&(t=this.props.link),i.createElement("div",{id:this.props.id,className:"lesson__qr"},i.createElement("div",{className:"lesson__qr__title"},i.createElement("div",{className:"lesson__qr__title_text"},this.props.title),i.createElement("div",{className:"lesson__qr__title_close__container"},i.createElement("div",{className:"lesson__qr__title_close__cell"},i.createElement("div",{className:"lesson__qr__title_close",onClick:this.close.bind(this)},"X")))),i.createElement("div",{className:"lesson__qr__content_container"},this.renderContent()),i.createElement("div",{className:"lesson__qr__link_container"},t))}}]),t}()},17:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(0),o=n.n(i),r=n(13);function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=o.a.Point,l=function(){function t(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.title=e.title,this.path=e.path,this.uid=e.uid,this.dependencies=e.dependencies,this.location=new a(0,0),this.id=n,this.imgLink="".concat(this.path,"/").concat(this.uid,"/tile.svg"),this.imgLinkSelected="".concat(this.path,"/").concat(this.uid,"/tile_ffffff.svg"),this.imgLinkDisabled="".concat(this.path,"/").concat(this.uid,"/tile_aaaaaa.svg"),""===n&&(this.id="id_lesson__navigator_tile_".concat(e.uid)),this.topics=e.topics,this.enabled=e.enabled}return function(t,e,n){e&&s(t.prototype,e)}(t,[{key:"waitThenCallback",value:function(t){this.callbackCount+=1,this.callbackCount===this.numVersions&&t()}},{key:"getRatings",value:function(t){var e=this;this.callbackCount=0,this.numVersions=0,Object.keys(this.topics).forEach(function(n){var i=e.topics[n];e.numVersions+=Object.keys(i).length,Object.keys(i).forEach(function(o){var s=i[o],a="/rating/".concat(e.uid,"/").concat(n,"/").concat(o);Object(r.fetch)(a,{credentials:"same-origin"}).then(function(n){if(!n.ok)throw e.waitThenCallback(t),Error(n.statusText);return n.json()}).then(function(n){"ok"===n.status&&(s.aveRating=n.aveRating,s.numRatings=n.numRatings,s.numHighRatings=n.numHighRatings,s.userRating=n.userRating),e.waitThenCallback(t)}).catch(function(){e.waitThenCallback(t)})})})}}]),t}()},24:function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(13),s=n(14);function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var l=o.a.Diagram,c=o.a.Rect,u=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"lesson__content";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.htmlId=e,this.sections=[],this.iconLink="/",this.iconLinkGrey="/",this.setTitle(),this.key=0}return function(t,e,n){e&&a(t.prototype,e)}(t,[{key:"initialize",value:function(){this.setContent()}},{key:"setTitle",value:function(){this.title=""}},{key:"setContent",value:function(){}},{key:"loadQR",value:function(t,e){var n="/qr/".concat(e);Object(r.fetch)(n,{credentials:"same-origin"}).then(function(t){if(!t.ok)throw Error(t.statusText);return t.json()}).then(function(n){if("ok"===n.status){var i="/static/dist/".concat(e,"/").concat(n.js),o="/static/dist/".concat(e,"/").concat(n.css);Object(s.g)("".concat(t,"CSS"),o,function(){Object(s.f)("".concat(t,"Script"),i,function(){})})}}).catch(function(){})}},{key:"loadQRs",value:function(t){var e=this;t.forEach(function(t){var n=t.replace(/^\//,"").replace(/\/$/,"").split("/"),i=n.slice(-1)[0],o=n.slice(-2,-1)[0],r=n.slice(0,-2).join("/");e.loadQR(t,"Lessons/".concat(r,"/").concat(o,"/quickReference/").concat(i))})}},{key:"prepareToShowQR",value:function(){var t=document.getElementById("simple_lesson__qr__overlay");null!=t&&(t.style.zIndex="10")}},{key:"prepareToHideQR",value:function(){var t=document.getElementById("simple_lesson__qr__overlay");null!=t&&(t.style.zIndex="-1")}},{key:"showQR",value:function(t,e){var n=document.getElementById("id_lesson__qr__content_pres");null!=n&&n.classList.remove("lesson__hide"),null==this.qrDiagram&&(this.qrDiagram=new l({htmlId:"id_qr_diagram",limits:new c(-3,-2,6,4),updateFontSize:!0})),this.prepareToShowQR();var i=new(window.quickReference["".concat(t,"/").concat(e)])(this.qrDiagram);null!=i&&(this.qrDiagram.elements.hide(),this.qrDiagram.resize(),this.qrDiagram.clearContext(),this.qrDiagram.setElementsToCollection(i),this.qrDiagram.elements.show(),this.qrDiagram.elements.prepareToHideAll=this.prepareToHideQR.bind(this),this.qrDiagram.animateNextFrame())}}]),t}();e.a=u},25:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n(1),o=n(162);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,a(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(t,i.Component),function(t,e,n){e&&s(t.prototype,e)}(t,[{key:"render",value:function(){return i.createElement(o.a,{id:"id_lesson__qr__content_static",content:this.props.content,title:this.props.title,link:this.props.link,closeId:"id_lesson__qr__static_container"})}}]),t}()},27:function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.content=e,this.type="simple"}return function(t,e,n){e&&i(t.prototype,e)}(t,[{key:"initialize",value:function(){this.content.initialize()}}]),t}();e.a=o},7:function(t,e,n){"use strict";var i=n(1);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,s(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,i.Component),function(t,e,n){e&&r(t.prototype,e)}(t,[{key:"render",value:function(){return i.createElement("div",{className:"navbar__spacer"},i.createElement("div",{className:"navigator__left_side"}),i.createElement("div",{className:"navigator__right_side"}))}}]),t}(),c=n(14),u=n(160);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var m=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,d(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(t,i.Component),function(t,e,n){e&&_(t.prototype,e)}(t,[{key:"loginout",value:function(){this.props.isLoggedIn?Object(c.i)():Object(c.h)()}},{key:"getLoginLabel",value:function(){return this.props.isLoggedIn?""!==this.props.username?i.createElement("div",null,"Logged in as ",i.createElement("span",{className:"navbar_login__loggedin_label_username"},this.props.username)):"Logout":"Login"}},{key:"getLoginButton",value:function(){return this.props.isLoggedIn?i.createElement("div",{className:"navbar-button navbar-right navbar_login"},i.createElement(u.a,{label:this.getLoginLabel(),id:"id_navbar_loginout",direction:"down",xAlign:"right",list:[{label:"Logout",link:this.loginout.bind(this),active:!1}],selected:!1})):i.createElement("div",{className:"navbar-text navbar-right login_button"},i.createElement("div",{onClick:this.loginout.bind(this),className:"navbar_login",id:"id_navbar_loginout"},this.getLoginLabel()))}},{key:"renderHomeButton",value:function(){return this.props.includeHome?i.createElement("a",{className:"navbar-icon-container",href:"/"},i.createElement("img",{className:"navbar-icon",src:"/static/assets/logo20.svg",alt:"navbar home icon"})):""}},{key:"render",value:function(){var t=i.createElement("div",null,i.createElement("div",{className:"navbar-container"},this.renderHomeButton(),this.getLoginButton()));return i.createElement("div",null,t)}}]),t}();function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var b=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,g(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(t,i.Component),function(t,e,n){e&&y(t.prototype,e)}(t,[{key:"render",value:function(){return i.createElement("div",{className:"footer__container"},i.createElement("div",{className:"footer_contact"},i.createElement("a",{href:"mailto:feedback@thisiget.com?Subject=Feedback",className:"footer_email"},"feedback@thisiget.com")))}}]),t}();function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(){return(w=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function k(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}e.a=function(t,e){var n=!(1<arguments.length&&void 0!==e)||e;return function(){function e(t){var n;return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),(n=function(t,e){return!e||"object"!==E(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,O(e).call(this,t))).state={isLoggedIn:!1,username:""},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(e,i.Component),function(t,e,n){e&&k(t.prototype,e)}(e,[{key:"componentWillMount",value:function(){var t=this;window.addEventListener("focus",function(){t.checkIsLoggedInFromCookie()}),this.checkIsLoggedInFromCookie()}},{key:"checkIsLoggedInFromCookie",value:function(){var t=document.cookie;if(null!=t){var e=t.match(/username=[^;]*/);null!=e&&(";"===(e=e[0].trim()).slice(-1).charAt(0)&&(e=e.slice(0,-1)),this.setLogin(e.split("=")[1]))}}},{key:"setLogin",value:function(t){""===t?this.setState({isLoggedIn:!1,username:""}):null!==t?this.setState({isLoggedIn:!0,username:t}):this.setState({isLoggedIn:!0,username:""})}},{key:"render",value:function(){return i.createElement("div",null,i.createElement(m,{active:"Single Page Lesson",isLoggedIn:this.state.isLoggedIn,username:this.state.username,includeHome:n}),i.createElement(l,null),i.createElement(t,w({},this.props,{username:this.state.username,isLoggedIn:this.state.isLoggedIn})),i.createElement(b,null))}}]),e}()}},8:function(t,e,n){"use strict";var i=n(1),o=n(13),r=n(146);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,l(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(t,i.Component),function(t,e,n){e&&a(t.prototype,e)}(t,[{key:"render",value:function(){var t=this.props.label||"",e="/static/assets/defaultTile.png";return null!=this.props.imgLink&&(e="".concat(this.props.imgLink)),i.createElement("div",{className:"lesson__title_container"},i.createElement("div",{className:"lesson__title_centering_container"},i.createElement("div",{className:"lesson__title_img_container"},i.createElement("img",{src:e,className:"lesson__title_image",alt:"Icon for lesson title"})),i.createElement("div",{className:"lesson__title_text_container"},i.createElement("div",{className:"lesson__title_text"},i.createElement("h1",null,t)))))}}]),t}(),f=n(159),_=(n(17),n(161));function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,m(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(t,i.Component),function(t,e,n){e&&h(t.prototype,e)}(t,[{key:"renderListLabel",value:function(t){if(!0===t.separator)return t.label;var e=t.numReviews||0,n=t.numHighRatings||0,o="";if(0<e&&(e="".concat(e.toLocaleString("en"))),null!=t.userRating&&0<t.userRating)for(var r=0;r<t.userRating;r+=1)o="".concat(o,"★");0===e&&(n=e="");var s="",a="";null!=t.label&&(s=t.label),null!=t.description&&(a=t.description);var l="topic_button__type_icon_generic",c=t.type;return"presentation"===c?l="topic_button__type_icon_presentation":"singlePage"===c&&(l="topic_button__type_icon_singlePage"),i.createElement("table",{className:"topic_button__listItem"},i.createElement("tbody",null,i.createElement("tr",null,i.createElement("td",{className:"topic_button__type"},i.createElement("div",{className:l})),i.createElement("td",{className:"topic_button__label"},i.createElement("div",{className:"topic_button__label_text"},s),i.createElement("div",{className:"topic_button__label_description"},a)),i.createElement("td",{className:"topic_button__rating"},i.createElement("div",{className:"topic_button__rating_value"},o||"-")),i.createElement("td",{className:"topic_button__rating"},i.createElement("div",{className:"topic_button__rating_value"},n||"-")))))}},{key:"renderTitle",value:function(){return i.createElement("table",{className:"topic_button__listItem topic_button_listItem_title"},i.createElement("tbody",null,i.createElement("tr",null,i.createElement("td",{className:"topic_button__label",colSpan:"2"},i.createElement("div",{className:"topic_button__label_title"},"Version")),i.createElement("td",{className:"topic_button__rating"},i.createElement("div",{className:"topic_button__rating_num_reviews"},"Your"),i.createElement("div",{className:"topic_button__rating_num_reviews"},"Rating")),i.createElement("td",{className:"topic_button__rating"},i.createElement("div",{className:"topic_button__rating_num_reviews"},"Total"),i.createElement("div",{className:"topic_button__rating_num_reviews"},"Ratings ≥4")))))}},{key:"render",value:function(){var t=this,e=this.props,n=[];return n.push({label:this.renderTitle()}),null!=e.list&&e.list.forEach(function(e){n.push({label:t.renderListLabel(e),link:e.link,active:e.active,separator:null!=e.separator&&e.separator})}),i.createElement(_.a,{label:e.label,id:e.id,direction:e.direction,xAlign:e.xAlign,list:n,selected:e.selected,classes:"topic_button"})}}]),t}();function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function E(t,e){return(E=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var w=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,b(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E(t,e)}(t,i.Component),function(t,e,n){e&&v(t.prototype,e)}(t,[{key:"setRating",value:function(){this.props.callback(this.props.num,this.props.index)}},{key:"star",value:function(){return this.props.isFull?i.createElement("div",{className:"rating__stars_full"}):i.createElement("div",{className:"rating__stars_empty"})}},{key:"render",value:function(){var t=this,e=i.createElement("div",null);return this.props.isLoggedIn&&(e=i.createElement("div",{className:"rating__stars_link rating__stars_star_active",onClick:this.setRating.bind(this),tabIndex:0,role:"button",onKeyDown:function(e){13!==e.keyCode&&32!==e.keyCode||t.setRating()},"aria-label":"Rate as ".concat(this.props.index," star")})),i.createElement("div",{className:"rating__stars_star"},this.star(),e)}}]),t}();function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function L(t,e){return(L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var I=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,S(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L(t,e)}(t,i.Component),function(t,e,n){e&&O(t.prototype,e)}(t,[{key:"stars",value:function(){for(var t=[],e=0;e<this.props.rating;e+=1)t.push(i.createElement(w,{isFull:!0,key:e,callback:this.props.ratingCallback,index:this.props.index||0,num:e+1,isLoggedIn:this.props.isLoggedIn}));for(var n=this.props.rating;n<5;n+=1)t.push(i.createElement(w,{isFull:!1,num:n+1,key:n,callback:this.props.ratingCallback,index:this.props.index||0,isLoggedIn:this.props.isLoggedIn}));return t}},{key:"render",value:function(){return i.createElement("div",{className:"rating__container"},i.createElement("div",{className:"rating__label"},this.props.label||""),i.createElement("div",{className:"rating__stars"},i.createElement("div",{className:"rating__stars_table"},this.stars())))}}]),t}(),x=n(14);function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(){return(j=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function P(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function R(t,e){return(R=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(10);var C=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){return!e||"object"!==T(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,N(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&R(t,e)}(t,i.Component),function(t,e,n){e&&P(t.prototype,e)}(t,[{key:"render",value:function(){var t=this.props,e=t.href?"a":"button",n=t.label||t.children||"",o=Object(x.c)("btn",t.className||"");return i.createElement(e,j({},t,{className:o}),n)}}]),t}(),q=n(160),B=n(162);function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var M=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){return!e||"object"!==A(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,F(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(t,i.Component),function(t,e,n){e&&H(t.prototype,e)}(t,[{key:"renderContent",value:function(){return i.createElement("div",{id:this.props.id,className:"lesson__presentation_qr__container"},i.createElement("div",{id:"id_qr_diagram",className:"diagram__container lesson__diagram"},i.createElement("canvas",{id:"id_qr_diagram__text",className:"diagram__text"}),i.createElement("canvas",{id:"id_qr_diagram__gl",className:"diagram__gl"}),i.createElement("div",{id:"id_qr_diagram__html",className:"diagram__html"},i.createElement("div",{id:"id_lesson__qr_diagram_container"}),i.createElement("div",{id:"id_lesson__qr_description_container",className:"lesson__qr_description_container"},i.createElement("div",{className:"lesson__qr_description_table_cell"},i.createElement("div",{className:"lesson__qr_description_relative"},i.createElement("div",{className:"lesson__qr_description_text",id:"id_lesson__qr_description"})))),i.createElement("div",{className:"diagram__text_measure",id:"".concat(this.props.id,"_measure")},"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"))))}},{key:"render",value:function(){var t=i.createElement("div",{id:"id_lesson__qr__title_text__pres"}),e=i.createElement("a",{className:"lesson__qr__link_link",id:"id_lesson__qr__link_link__pres",href:"",rel:"noreferrer noopener",target:"_blank"},"Go to lesson to see why");return i.createElement(B.a,{id:"id_lesson__qr__content_pres",content:this.renderContent(),title:t,link:e,closeId:"id_lesson__qr__pres_container",onClose:this.props.onClose})}}]),t}(),U=n(25);function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function W(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Q(t){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function V(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G(t,e){return(G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var J=function(){function t(e){var n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),(n=function(t,e){return!e||"object"!==z(e)&&"function"!=typeof e?V(t):e}(this,Q(t).call(this,e))).firstPage=parseInt(Object(x.e)("page"),10)-1||0,-1===n.firstPage&&(n.firstPage=0),n.lesson=e.lesson,n.state={htmlText:"",numPages:0,page:0,listOfSections:[],qr:i.createElement(U.a,{content:"Loading Reference",link:"",title:""}),presQR:{title:"",link:""}},n.key=0,n.lesson.refresh=n.refreshText.bind(V(n)),n.componentUpdateCallback=null,n.centerLessonFlag=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(t,i.Component),function(t,e,n){e&&W(t.prototype,e)}(t,[{key:"componentDidUpdate",value:function(){if(this.componentUpdateCallback){var t=this.componentUpdateCallback;this.componentUpdateCallback=null,t()}else this.lesson.setOnclicks();this.lesson.content.diagram.updateHTMLElementTie()}},{key:"refreshText",value:function(t,e,n){var i=2<arguments.length&&void 0!==n?n:null;this.updateGoToButtonListHighlight(),t!==this.state.htmlText||e!==this.state.page?(this.componentUpdateCallback=i,this.setState({htmlText:t,page:e}),Object(x.d)("page","".concat(e+1),30,window.location.pathname.replace(/\/$/,""))):i&&i();var o=document.getElementById("lesson__button-next");o&&(this.lesson.currentSectionIndex===this.lesson.content.sections.length-1?o.classList.add("lesson__button-next-disabled"):o.classList.remove("lesson__button-next-disabled"));var r=document.getElementById("lesson__button-previous");r&&(0===this.lesson.currentSectionIndex?r.classList.add("lesson__button-prev-disabled"):r.classList.remove("lesson__button-prev-disabled"))}},{key:"goToNext",value:function(){this.lesson.nextSection()}},{key:"goToPrevious",value:function(){this.lesson.prevSection()}},{key:"resize",value:function(){if(window.getComputedStyle(document.documentElement)){var t=document.documentElement;t&&t.style.setProperty("--pres__vw1","".concat(window.innerWidth))}}},{key:"setCSSVariables",value:function(t){var e=document.getElementById("lesson__content_diagram");if(null!=e){var n=e.getBoundingClientRect(),i=Math.min(.7*n.width,600),o=document.documentElement;null!=o&&(o.style.setProperty("--lesson__qr__content_width","".concat(i,"px")),o.style.setProperty("--lesson__qr__content_height","calc(".concat(i/1.5,"px)")))}var r=document.getElementById("id_diagram__html"),s=document.getElementById(t);if(null!=r&&null!=s){var a=parseFloat(r.style.fontSize),l=parseFloat(window.getComputedStyle(document.body).fontSize);s.style.fontSize="".concat(Math.min(a,l),"px")}}},{key:"showStaticQR",value:function(t,e){var n=document.getElementById("id_lesson__qr__pres_container");null!=n&&n.classList.add("lesson__hide"),this.setState({qr:window.quickReference[e]}),this.setCSSVariables("id_lesson__qr__static_container");var i=document.getElementById("id_lesson__qr__static_container");null!=i&&i.classList.remove("lesson__hide")}},{key:"showPresQR",value:function(t,e){var n=document.getElementById("id_lesson__qr__static_container");null!=n&&n.classList.add("lesson__hide"),this.setCSSVariables("id_lesson__qr__pres_container");var i=e.split("/").slice(0,-1).join("/"),o=e.split("/").slice(-1)[0];this.lesson.content.showQR(i,o);var r=document.getElementById("id_lesson__qr__pres_container");null!=r&&r.classList.remove("lesson__hide"),this.lesson.content.qrDiagram.resize(),this.lesson.content.qrDiagram.animateNextFrame()}},{key:"componentDidMount",value:function(){var t=this;this.resize(),window.addEventListener("resize",this.resize.bind(this)),window.lessonFunctions={qr:function(e,n){i.isValidElement(window.quickReference[n])?t.showStaticQR(e,n):t.showPresQR(e,n)}},this.lesson.initialize(),this.lesson.content.diagram.resize(),this.setState({listOfSections:this.addListOfSections(),numPages:this.lesson.content.sections.length}),null!=this.firstPage&&this.firstPage<this.lesson.content.sections.length?this.lesson.goToSection(this.firstPage):this.lesson.goToSection(0);var e=document.getElementById("lesson__button-next");e instanceof HTMLElement&&(e.onclick=this.goToNext.bind(this));var n=document.getElementById("lesson__button-previous");n instanceof HTMLElement&&(n.onclick=this.goToPrevious.bind(this));var o=document.getElementById("id_lesson__info_button");o instanceof HTMLElement&&(o.onclick=this.lesson.content.toggleInfo.bind(this.lesson.content))}},{key:"orientationChange",value:function(){var t=document.documentElement;t&&t.clientHeight>t.clientWidth&&(this.centerLessonFlag=!0)}},{key:"centerLesson",value:function(){if(this.centerLessonFlag){var t=document.getElementById("lesson__container_name");if(t){var e=this.centerLessonPosition(t);setTimeout(function(){return window.scroll(0,e)},500)}}this.centerLessonFlag=!1}},{key:"centerLessonPosition",value:function(t){var e=document.documentElement;if(null==t||null==e)return 0;var n=t.getBoundingClientRect(),i=n.top+window.pageYOffset,o=n.height,r=e.clientHeight;return o<=r?i-(r-o)/2:i}},{key:"componentWillUnmount",value:function(){window.removeEventListener("orientationchange",this.centerLesson.bind(this))}},{key:"renderContent",value:function(t){return this.key+=1,i.createElement("div",{key:this.key,className:"lesson__diagram_text",id:"id_lesson__diagram_text",dangerouslySetInnerHTML:{__html:t.slice(0,t.length-1)}})}},{key:"addPrevButton",value:function(){return i.createElement(C,{label:"",id:"lesson__button-previous",className:" lesson__np_button lesson__button-prev-enabled","aria-label":"Previous slide"})}},{key:"addNextButton",value:function(){return i.createElement(C,{label:"",id:"lesson__button-next",className:" lesson__np_button lesson__button-next-enabled","aria-label":"Next slide"})}},{key:"addInfoButton",value:function(){return i.createElement("div",{id:"id_lesson__info_button",className:"lesson__info_button lesson__info_hide"},i.createElement("div",{className:"lesson__info_button_label_container"},i.createElement("div",{className:"lesson__info_button_label"},i.createElement("div",{className:"lesson__info_button_label_text"},"i"))))}},{key:"addInteractiveElementButton",value:function(){return i.createElement("div",{id:"id_lesson__interactive_element_button__container",className:"lesson__interactive_element_button__container"},i.createElement("div",{id:"id_lesson__interactive_element_button",className:"lesson__interactive_element_button lesson__interactive_element_button__hide",onClick:this.lesson.highlightNextInteractiveItem.bind(this.lesson)}))}},{key:"addGoToButton",value:function(){return 0<this.state.listOfSections.length?i.createElement("div",{className:"lesson__button-goto_container",id:"id__lesson__button-goto_container"},i.createElement(q.a,{id:"id__lesson__goto_button",label:i.createElement("div",{className:"pres__goto_button_label"},i.createElement("div",{className:"pres__goto_button_label_page"},"".concat(this.state.page+1," ")),i.createElement("div",{className:"pres__goto_button_label_num_pages"},"of ".concat(this.state.numPages))),direction:"up",xAlign:"right",list:this.state.listOfSections})):""}},{key:"belongsTo",value:function(t){for(var e=t;0<e&&!this.lesson.content.sections[e].title;)e-=1;return e}},{key:"clickList",value:function(t){this.lesson.goToSection(t)}},{key:"updateGoToButtonListHighlight",value:function(){var t=document.getElementById("id__lesson__button-goto_container");if(null!=t){var e=t.getElementsByClassName("dropdown_button_list_item_active");[].forEach.call(e,function(t){return t.classList.remove("dropdown_button_list_item_active")});var n=document.getElementById("id__lesson__goto_button_list"),i=this.belongsTo(this.lesson.currentSectionIndex),o=this.lesson.content.sections.map(function(t,e){return t.title?e:-1}).filter(function(t){return-1!==t}).indexOf(i);if(n){var r=n.children;0<r.length&&r[o].classList.add("dropdown_button_list_item_active")}}}},{key:"addListOfSections",value:function(){var t=this,e=[],n=this.belongsTo(this.lesson.currentSectionIndex);return this.lesson.content.sections.forEach(function(i,o){if(i.title){var r=!1;o===n&&(r=!0),t.key+=1,e.push({label:i.title,link:t.clickList.bind(t,o),active:r})}}),e}},{key:"render",value:function(){return i.createElement("div",null,i.createElement("main",null,i.createElement("div",{className:"lesson__widescreen_backdrop",id:this.lesson.content.htmlId},i.createElement("div",{id:"lesson__container_name",className:"lesson__container"},this.addPrevButton(),i.createElement("div",{id:this.lesson.content.diagramHtmlId,className:"diagram__container lesson__diagram"},i.createElement("canvas",{id:"id_diagram__gl__low",className:"diagram__gl"}),i.createElement("canvas",{id:"id_diagram__text__low",className:"diagram__text"}),i.createElement("div",{id:"id_diagram__html",className:"diagram__html"},this.renderContent(this.state.htmlText),i.createElement("div",{className:"diagram__text_measure",id:"".concat(this.lesson.content.diagramHtmlId,"_measure")},"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ")),i.createElement("div",{id:"id_lesson__qr__static_container",className:"lesson__qr__container lesson__hide"},this.state.qr),i.createElement("div",{id:"id_lesson__qr__pres_container",className:"lesson__qr__container lesson__hide"},i.createElement(M,{id:"id_lesson__qr__content_pres__overlay",onClose:this.lesson.content.prepareToHideQR.bind(this.lesson.content)}))),this.addGoToButton(),this.addNextButton(),this.addInfoButton(),this.addInteractiveElementButton()))))}}]),t}();function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Y(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function K(t){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function X(t,e){return(X=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Z(t,e,n){var i=document.getElementById(t),o=document.getElementById(e),r=document.getElementById(n);if(null!=i&&null!=o&&null!=r){var s=o.getBoundingClientRect(),a=r.getBoundingClientRect();if(window.innerWidth<s.width)i.style.left="20px";else{var l=a.left-s.left;i.style.left="0";var c=i.getBoundingClientRect(),u=l+a.width/2-c.width/2,f=s.width-(u+c.width);if(i.style.float="",u<=20?i.style.left="20px":20<f?i.style.left="".concat(u,"px"):(i.style.left="",i.style.right="20px"),window.innerheight<s.height)i.style.top="10px";else{var _=a.top-s.top;i.style.top="0";var d=_+a.height;i.style.top="".concat(d,"px")}}}}n(27);var tt=function(){function t(e){var n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),(n=function(t,e){return!e||"object"!==$(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,K(t).call(this,e))).lesson=e.lesson,n.key=0,n.state={qr:i.createElement(U.a,{content:"Loading Reference",link:"",title:""})},n.afterUpdate=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&X(t,e)}(t,i.Component),function(t,e,n){e&&Y(t.prototype,e)}(t,[{key:"showStaticQR",value:function(t,e){this.setState({qr:window.quickReference[e]});var n=document.getElementById("id_lesson__qr__pres_container");null!=n&&n.classList.add("lesson__hide");var i=document.getElementById("id_lesson__qr__static_container");null!=i&&i.classList.remove("lesson__hide"),Z("id_lesson__qr__static_container","lesson__content",t),this.afterUpdate=function(){Z("id_lesson__qr__static_container","lesson__content",t)}}},{key:"showPresQR",value:function(t,e){var n=document.getElementById("lesson__content");if(null!=n){var i=n.getBoundingClientRect(),o=Math.min(i.width-40,600),r=document.documentElement;null!=r&&(r.style.setProperty("--lesson__qr__content_width","calc(".concat(o,"px - 1em)")),r.style.setProperty("--lesson__qr__content_height","calc((".concat(o,"px - 1em) / 1.5)")))}var s=document.getElementById("id_lesson__qr__static_container");null!=s&&s.classList.add("lesson__hide");var a=document.getElementById("id_lesson__qr__pres_container");null!=a&&a.classList.remove("lesson__hide");var l=e.split("/").slice(0,-1).join("/"),c=e.split("/").slice(-1)[0];this.lesson.content.showQR(l,c),Z("id_lesson__qr__pres_container","lesson__content",t),this.lesson.content.qrDiagram.resize(),this.lesson.content.qrDiagram.animateNextFrame()}},{key:"componentDidUpdate",value:function(){null!=this.afterUpdate&&(this.afterUpdate(),this.afterUpdate=null)}},{key:"componentDidMount",value:function(){var t=this;window.lessonFunctions={qr:function(e,n){i.isValidElement(window.quickReference[n])?t.showStaticQR(e,n):t.showPresQR(e,n)}},this.lesson.initialize()}},{key:"close",value:function(){var t=document.getElementById("id_lesson__qr__static_container");null!=t&&t.classList.add("lesson__hide"),null!=(t=document.getElementById("id_lesson__qr__pres_container"))&&t.classList.add("lesson__hide")}},{key:"render",value:function(){return i.createElement("div",{id:this.lesson.content.htmlId,className:"simple_lesson__container"},this.lesson.content.sections,i.createElement("div",{id:"id_lesson__qr__static_container",className:"lesson__qr__container lesson__hide"},this.state.qr),i.createElement("div",{id:"id_lesson__qr__pres_container",className:"lesson__qr__container lesson__hide"},i.createElement(M,{id:"id_lesson__qr__content_pres__overlay"})))}}]),t}(),et=n(0);function nt(t){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function it(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ot(t){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rt(t,e){return(rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function st(t,e,n){var i=document.getElementById(t),o=document.getElementById(e),r=document.getElementById(n);if(null!=i&&null!=o&&null!=r){var s=o.getBoundingClientRect(),a=r.getBoundingClientRect();if(window.innerWidth<s.width)i.style.left="20px";else{var l=a.left-s.left;i.style.left="0";var c=i.getBoundingClientRect(),u=l+a.width/2-c.width/2,f=s.width-(u+c.width);if(i.style.float="",u<=20?i.style.left="20px":20<f?i.style.left="".concat(u,"px"):(i.style.left="",i.style.right="20px"),window.innerheight<s.height)i.style.top="10px";else{var _=a.top-s.top;i.style.top="0";var d=_+a.height;i.style.top="".concat(d,"px")}}}}var at=n.n(et).a.tools.html,lt=at.applyModifiers,ct=at.setOnClicks,ut=function(){function t(e){var n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),(n=function(t,e){return!e||"object"!==nt(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,ot(t).call(this,e))).lesson=e.lesson,n.key=10,n.contentChange=!1,n.state={content:[],qr:i.createElement(U.a,{content:"Loading Reference",link:"",title:""})},n.afterUpdate=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rt(t,e)}(t,i.Component),function(t,e,n){e&&it(t.prototype,e)}(t,[{key:"showStaticQR",value:function(t,e){this.setState({qr:window.quickReference[e]});var n=document.getElementById("id_lesson__qr__pres_container");null!=n&&n.classList.add("lesson__hide");var i=document.getElementById("id_lesson__qr__static_container");null!=i&&i.classList.remove("lesson__hide"),st("id_lesson__qr__static_container","id_single_page_lesson__text_container",t),this.afterUpdate=function(){st("id_lesson__qr__static_container","lesson__content",t)}}},{key:"showPresQR",value:function(t,e){var n=document.getElementById("id_single_page_lesson__text_container");if(null!=n){var i=n.getBoundingClientRect(),o=Math.min(i.width-40,600),r=document.documentElement;null!=r&&(r.style.setProperty("--lesson__qr__content_width","calc(".concat(o,"px - 1em)")),r.style.setProperty("--lesson__qr__content_height","calc((".concat(o,"px - 1em) / 1.5)")))}var s=document.getElementById("id_lesson__qr__static_container");null!=s&&s.classList.add("lesson__hide");var a=document.getElementById("id_lesson__qr__pres_container");null!=a&&a.classList.remove("lesson__hide");var l=e.split("/").slice(0,-1).join("/"),c=e.split("/").slice(-1)[0];this.lesson.content.showQR(l,c),st("id_lesson__qr__pres_container","id_single_page_lesson__text_container",t),this.lesson.content.qrDiagram.resize(),this.lesson.content.qrDiagram.animateNextFrame()}},{key:"componentDidMount",value:function(){var t=this;window.lessonFunctions={qr:function(e,n){i.isValidElement(window.quickReference[n])?t.showStaticQR(e,n):t.showPresQR(e,n)}},this.lesson.initialize(),this.contentChange=!0,this.setState({content:this.lesson.content.sections[0]}),this.lesson.content.diagram.enableScrolling()}},{key:"close",value:function(){var t=document.getElementById("id_lesson__qr__content_static");null!=t&&t.classList.add("lesson__hide"),null!=(t=document.getElementById("id_lesson__qr__content_pres"))&&t.classList.add("lesson__hide")}},{key:"componentDidUpdate",value:function(){var t=this;null!=this.afterUpdate&&(this.afterUpdate(),this.afterUpdate=null),ct(this.lesson.content.modifiers);var e=this.lesson.content.diagram;if(this.contentChange){this.lesson.content.diagram.resize(),e.renderAllElementsToTiedCanvases();for(var n=e.elements.getLoadingElements(),i=function(i){var o=n[i];"loading"===o.drawingObject.state&&(o.drawingObject.onLoad=function(){o.unrender(),e.renderAllElementsToTiedCanvases(),t.lesson.content.diagram.setFirstTransform()})},o=0;o<n.length;o+=1)i(o);this.contentChange=!1}this.lesson.content.diagram.setFirstTransform(),this.lesson.content.diagram.updateHTMLElementTie(),e.animateNextFrame()}},{key:"renderContent",value:function(){var t=this,e="";return this.state.content.forEach(function(n){"string"==typeof n&&(e+=function(t,e){return t.trim().startsWith("##")?'<div class="single_page_lesson__header2">'.concat(t.slice(2),"</div>"):t.trim().startsWith("#")?'<div class="single_page_lesson__header1">'.concat(t.slice(1),"</div>"):'<p class="single_page_lesson__text">'.concat(lt(t,e),"</p>")}(n,t.lesson.content.modifiers))}),i.createElement("div",{id:"id_single_page_lesson__text_container",className:"single_page_lesson__text_container"},i.createElement("div",{className:"single_page_lesson__text_container_text",dangerouslySetInnerHTML:{__html:e}}),i.createElement("div",{id:"id_lesson__qr__static_container",className:"lesson__qr__container lesson__hide"},this.state.qr),i.createElement("div",{id:"id_lesson__qr__pres_container",className:"lesson__qr__container lesson__hide"},i.createElement(M,{id:"id_lesson__qr__content_pres__overlay"})))}},{key:"render",value:function(){return i.createElement("div",{id:this.lesson.content.htmlId,className:"single_page_lesson__container"},this.renderContent(),i.createElement("canvas",{id:"hidden_offscreen"}),i.createElement("div",{id:this.lesson.content.diagramHtmlId,className:"diagram__container lesson__diagram single_page_lesson__diagram_container"},i.createElement("canvas",{id:"id_diagram__gl__offscreen",className:"diagram__gl__offscreen"}),i.createElement("canvas",{id:"id_diagram__text__offscreen",className:"diagram__text__offscreen"}),i.createElement("canvas",{id:"id_diagram__gl__low",className:"diagram__gl"}),i.createElement("canvas",{id:"id_diagram__text__low",className:"diagram__text"}),i.createElement("div",{id:"id_diagram__html",className:"diagram__html"})))}}]),t}();function ft(t){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function dt(t){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ht(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mt(t,e){return(mt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var pt=function(){function t(e){var n;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),n=function(t,e){return!e||"object"!==ft(e)&&"function"!=typeof e?ht(t):e}(this,dt(t).call(this,e));var i=window.location.pathname.replace(/\/$/,"").split("/");return n.links=[],e.links.forEach(function(t){n.links.push({url:t.url,hash:t.hash,type:t.type||"generic",title:t.author||t.publisher||"",description:t.description||"",numHighRatings:null,userRating:0,userRatingIsHigh:!1})}),n.hasDescription=!1,n.links.forEach(function(t){t.description&&(n.hasDescription=!0)}),n.lessonUID=i.slice(-3,-2)[0],n.versionUID=i.slice(-1)[0],n.topic=i.slice(-2,-1)[0],n.state={ratings:n.fillRatings()},n.getLinkRatings(n.gotLinkRatings.bind(ht(n))),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mt(t,e)}(t,i.Component),function(t,e,n){e&&_t(t.prototype,e)}(t,[{key:"fillRatings",value:function(){var t=[];return this.links.forEach(function(e){t.push({userRating:e.userRating,numHighRatings:e.numHighRatings})}),t}},{key:"gotLinkRatings",value:function(){this.setState({ratings:this.fillRatings()})}},{key:"waitThenCallback",value:function(t){this.callbackCount+=1,this.callbackCount===this.props.links.length&&t()}},{key:"getLinkRatings",value:function(t){var e=this;this.callbackCount=0,this.numLinks=0,this.links.forEach(function(n){var i="/linkrating/".concat(e.lessonUID,"/").concat(e.topic,"/").concat(e.versionUID,"/").concat(n.hash);Object(o.fetch)(i,{credentials:"same-origin"}).then(function(n){if(!n.ok)throw e.waitThenCallback(t),Error(n.statusText);return n.json()}).then(function(i){var o=!1;null!=i.userRating&&3<i.userRating&&(o=!0),"ok"===i.status&&(n.numHighRatings=i.numHighRatings,n.userRating=i.userRating||0,n.userRatingIsHigh=o),e.waitThenCallback(t)}).catch(function(){e.waitThenCallback(t)})})}},{key:"setUserRating",value:function(t,e){var n=this,i=document.cookie;if(null!=i){var r=i.match(/username=[^;]*;/);if(null!=r&&""===r[0].split("=")[1].slice(0,-1))return}this.links[e].userRating=t;var s="/ratelink/".concat(this.lessonUID,"/").concat(this.topic,"/").concat(this.versionUID,"/").concat(this.links[e].hash,"/").concat(t),a=!1;this.links[e].userRatingIsHigh&&t<4&&(null!=this.links[e].numHighRatings&&(this.links[e].numHighRatings-=1),a=!(this.links[e].userRatingIsHigh=!1)),!1===this.links[e].userRatingIsHigh&&3<t&&(null!=this.links[e].numHighRatings?this.links[e].numHighRatings+=1:this.links[e].numHighRatings=1,a=this.links[e].userRatingIsHigh=!0),a&&this.setState({ratings:this.fillRatings()}),Object(o.fetch)(s,{credentials:"same-origin"}).then(function(t){if(!t.ok)throw Error(t.statusText);return t.json()}).then(function(t){"done"===t.status&&n.setState({ratings:n.fillRatings()})}).catch(function(){})}},{key:"renderLinks",value:function(){var t=this,e=[],n=0;return this.links.forEach(function(o,r){var s=t.state.ratings[r].userRating;"number"!=typeof s&&(s=0);var a=i.createElement(I,{topic:t.topic,rating:s,ratingCallback:function(e,n){t.setUserRating(e,n)},isLoggedIn:t.props.isLoggedIn,index:r}),l=i.createElement("div",{className:"lesson__links_table__disabled"},"-");t.state.ratings[r].numHighRatings&&(l=t.state.ratings[r].numHighRatings);var c=i.createElement("a",{className:"lesson__links_table__title_text",href:o.url,rel:"noreferrer noopener",target:"_blank"},o.title),u="lesson__links_table__icon lesson__links_table__icon_generic",f=o.type;"presentation"===f?u="lesson__links_table__icon lesson__links_table__icon_presentation":"singlePage"===f?u="lesson__links_table__icon lesson__links_table__icon_single_page":"video"===f&&(u="lesson__links_table__icon lesson__links_table__icon_video");var _=null;t.hasDescription&&(_=i.createElement("td",{className:"lesson__links_table__description"},o.description)),e.push(i.createElement("tr",{key:n,className:"lesson__links_table__large_screen"},i.createElement("td",{className:"lesson__links_table__type"},i.createElement("a",{className:u,href:o.url,rel:"noreferrer noopener",target:"_blank","aria-label":o.title})),i.createElement("td",{className:"lesson__links_table__title"},c),_,i.createElement("td",{className:"lesson__links_table__your_rating"},a),i.createElement("td",{className:"lesson__links_table__total_rating"},l))),n+=1,e.push(i.createElement("tr",{key:n,className:"lesson__links_table__small_screen"},i.createElement("td",{className:"lesson__links_table__small_screen__content"},i.createElement("table",null,i.createElement("tbody",null,i.createElement("tr",null,i.createElement("td",null,i.createElement("div",{className:"lesson__links_table__small_screen__type_container"},i.createElement("div",{className:"lesson__links_table__small_screen__type"},i.createElement("a",{className:u,href:o.url,rel:"noreferrer noopener",target:"_blank","aria-label":o.title}))),i.createElement("div",{className:"lesson__links_table__small_screen__link_container"},i.createElement("div",{className:"lesson__links_table__small_screen__link"},c)))),i.createElement("tr",null,_),i.createElement("tr",null,i.createElement("td",{className:"lesson__links_table__total_rating"},i.createElement("div",{className:"lesson__links_table__small_screen__title"},"Total Ratings ≥4:"),i.createElement("div",{className:"lesson__links_table__small_screen__value"},l))),i.createElement("tr",null,i.createElement("td",null,i.createElement("div",{className:"lesson__links_table__small_screen__title"},t.yourRatingTitle(!0)),a))))))),n+=1}),e}},{key:"yourRatingTitle",value:function(t){var e="";0<arguments.length&&void 0!==t&&t&&(e=":");var n=i.createElement("div",null,i.createElement("span",{className:"rating__login",onClick:x.h},"Login")," to rate".concat(e));return this.props.isLoggedIn&&(n="Your\nRating"),n}},{key:"render",value:function(){var t=null;return this.hasDescription&&(t=i.createElement("td",{className:"lesson__links_table__description lesson__links_table__description_title"},"Description")),i.createElement("table",{className:"lesson__links_table"},i.createElement("tbody",null,i.createElement("tr",{className:"lesson__links_table__title_row lesson__links_table__large_screen"},i.createElement("td",{className:"lesson__links_table__type_title lesson__links_table__type"}),i.createElement("td",{className:"lesson__links_table__title_title lesson__links_table__title"},"Link"),t,i.createElement("td",{className:"lesson__links_table__your_rating_title lesson__links_table__your_rating"},this.yourRatingTitle()),i.createElement("td",{className:"lesson__links_table__total_rating_title lesson__links_table__total_rating"},"Total Ratings ≥4")),this.renderLinks()))}}]),t}();function yt(t){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function vt(t){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bt(t,e){return(bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Et=function(){function t(e){var n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),(n=function(t,e){return!e||"object"!==yt(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,vt(t).call(this,e))).lesson=e.lesson,n.key=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bt(t,e)}(t,i.Component),function(t,e,n){e&&gt(t.prototype,e)}(t,[{key:"componentDidMount",value:function(){this.lesson.initialize()}},{key:"renderSections",value:function(){var t=this,e=[];return this.lesson.content.sections.forEach(function(n,o){null!=n.links?e.push(i.createElement("div",{key:o},i.createElement(pt,{links:n.links,isLoggedIn:t.props.isLoggedIn}))):e.push(i.createElement("div",{key:o},n))}),e}},{key:"render",value:function(){return i.createElement("div",{id:this.lesson.content.htmlId,className:"simple_lesson__container"},this.renderSections())}}]),t}();function wt(t){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ot(t){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function St(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lt(t,e){return(Lt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var It=function(){function t(e){var n;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),(n=function(t,e){return!e||"object"!==wt(e)&&"function"!=typeof e?St(t):e}(this,Ot(t).call(this,e))).lesson=e.lesson;var i=window.location.pathname.replace(/\/$/,"").split("/");return n.lessonUID=i.slice(-3,-2)[0],n.versionUID=i.slice(-1)[0],n.topic=i.slice(-2,-1)[0],n.lessonDescription=function(t){return Object(f.a)()[t]}(n.lessonUID),n.state={userRating:0,ratings:n.fillRatings()},n.key=0,n.showNavigator=!1,n.getRating(n.topic),null!=n.lessonDescription&&n.lessonDescription.getRatings(n.gotRatings.bind(St(n))),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lt(t,e)}(t,i.Component),function(t,e,n){e&&kt(t.prototype,e)}(t,[{key:"fillRatings",value:function(){var t=this.lessonDescription;if(null==t)return{};var e={};return Object.keys(t.topics).forEach(function(n){var i=t.topics[n];n in e||(e[n]={}),Object.keys(i).forEach(function(t){var o=i[t];e[n][t]={aveRating:o.aveRating,numRatings:o.numRatings,numHighRatings:o.numHighRatings,userRating:o.userRating}})}),e}},{key:"gotRatings",value:function(){this.setState({ratings:this.fillRatings()})}},{key:"getRating",value:function(t){var e=this,n="/rating/".concat(this.lessonUID,"/").concat(t,"/").concat(this.versionUID);Object(o.fetch)(n,{credentials:"same-origin"}).then(function(t){if(!t.ok)throw Error(t.statusText);return t.json()}).then(function(t){"ok"===t.status&&t.userRating&&"not rated"!==t.userRating&&"not logged in"!==t.userRating&&e.setState({userRating:t.userRating})}).catch(function(){})}},{key:"setUserRating",value:function(t){var e=this,n=document.cookie;if(null!=n){var i=n.match(/username=[^;]*;/);if(null!=i&&""===i[0].split("=")[1].slice(0,-1))return}var r=parseInt(Object(x.e)("page"),10)-1||0,s="/rate/".concat(this.lessonUID,"/").concat(this.topic,"/").concat(this.versionUID,"/").concat(t,"?page=").concat(r+1,";pages=").concat(this.lesson.content.sections.length);Object(o.fetch)(s,{credentials:"same-origin"}).then(function(t){if(!t.ok)throw Error(t.statusText);return t.json()}).then(function(n){"done"===n.status&&e.setState({userRating:t})}).catch(function(){})}},{key:"renderTitle",value:function(t){return this.key+=1,i.createElement("div",{className:"lesson__title",key:this.key},t)}},{key:"titleAsTile",value:function(){return i.createElement("div",{id:"id_lesson__title_tile",className:"lesson__title_tile"},i.createElement("img",{src:"/static/",className:"navigator__lesson_tile_image"}),i.createElement("div",{className:"lesson__title_tile_containter lesson__title_tile_shadow"},i.createElement("div",{className:"lesson__title_tile_title"},this.lesson.content.title)))}},{key:"calcTitleHeight",value:function(){var t=0;return null!=this.lessonDescription&&(t=9),1===t?" lesson__title_bar_force_low":8<t?" lesson__title_bar_force_high":""}},{key:"getTopics",value:function(){var t=this,e={},n=this.lessonDescription;return null!=n&&Object.keys(this.state.ratings).forEach(function(i){var o=t.state.ratings[i];Object.keys(o).forEach(function(o){var r=n.topics[i][o],s=r.title,a="".concat(n.path,"/").concat(n.uid,"/").concat(i,"/").concat(o);"dev"===i&&(a="/dev".concat(n.path,"/").concat(n.uid,"/quickReference/").concat(o));var l=r.fullLesson,c=r.type,u=t.state.ratings[i][o],f=u.userRating;i in e||(e[i]={});var _=!1;t.versionUID===o&&t.topic===i&&(_=!0,f=t.state.userRating),e[i][o]={label:s,link:a,userRating:f,rating:u.aveRating,numReviews:u.numRatings,numHighRatings:u.numHighRatings,description:"",active:_,fullLesson:l,type:c}})}),e}},{key:"addTopics",value:function(){var t=this,e=[],n=this.getTopics(),o=["summary","explanation","implications","history","references","quiz"];return Object.keys(n).forEach(function(t){-1===o.indexOf(t)&&o.push(t)}),o.forEach(function(o){if(null!=n[o]&&"quickReference"!==o){var r=n[o],s=Object.keys(r).filter(function(t){return r[t].fullLesson}).length,a=Object.keys(r).filter(function(t){return!r[t].fullLesson}).length,l=!1;t.topic===o&&(l=!0);var c=Object.keys(r);c=(c=c.sort(function(t,e){var n=r[t],i=r[e];if(n.rating<i.rating)return 1;if(n.rating>i.rating)return-1;if(n.numReviews<i.numReviews)return 1;if(n.numReviews>i.numReviews)return-1;var o=n.label.toUpperCase(),s=i.label.toUpperCase();return s<o?1:o<s?-1:0})).sort(function(t,e){var n=r[t],i=r[e];return!0===n.fullLesson&&!1===i.fullLesson?-1:!1===n.fullLesson&&!0===i.fullLesson?1:0});var u=[];if(c.forEach(function(t){u.push(r[t]),"quickReference"===o&&(u.slice(-1)[0].label=t)}),t.key+=1,0<a&&"explanation"===o&&(u.splice(s,0,{label:i.createElement("div",{className:"topic_button__portion_separator"},i.createElement("div",{className:"topic_button__portion_separator_label"},"Portion of Lesson")),separator:!0}),u.splice(0,0,{label:i.createElement("div",{className:"topic_button__portion_separator"},i.createElement("div",{className:"topic_button__portion_separator_label"},"Full Lesson")),separator:!0})),1===u.length){var f="dropdown_button_container";l&&(f="".concat(f," dropdown_button_selected")),e.push(i.createElement("div",{className:"lesson__path_tile",key:t.key},i.createElement("div",{className:f},i.createElement("a",{href:u[0].link||"/",className:"topic_button__single_item_label"},o.charAt(0).toUpperCase()+o.slice(1)))))}else e.push(i.createElement("div",{className:"lesson__path_tile",key:t.key},i.createElement(y,{id:"id__lesson__topic_button_".concat(o),label:o.charAt(0).toUpperCase()+o.slice(1),direction:"down",xAlign:"left",selected:l,list:u})))}}),e}},{key:"getTopic",value:function(){return this.topic.charAt(0).toUpperCase()+this.topic.slice(1)}},{key:"renderLesson",value:function(){return"presentation"===this.lesson.type?i.createElement(J,{lesson:this.lesson}):"singlePage"===this.lesson.type?i.createElement(ut,{lesson:this.lesson}):"links"===this.lesson.type?i.createElement(Et,{lesson:this.lesson,isLoggedIn:this.props.isLoggedIn}):i.createElement(tt,{lesson:this.lesson})}},{key:"ratingLabel",value:function(){var t=this.topic.charAt(0).toUpperCase()+this.topic.slice(1);return this.props.isLoggedIn?"links"===this.lesson.type?"Are these links helpful?":"Is this ".concat(t," helpful?"):i.createElement("div",null,i.createElement("span",{className:"rating__login",onClick:x.h},"Login")," to rate ",t,":")}},{key:"render",value:function(){var t=this,e=window.location.pathname.replace(/\/$/,"").split("/").slice(0,-2);"dev"===e[1]&&(e=[""].concat(function(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(window.location.pathname.replace(/\/$/,"").split("/").slice(2,-2))));var n="/static/dist".concat(e.join("/"),"/tile.svg");return i.createElement("div",null,i.createElement("div",{className:"lesson__title_bar".concat(this.calcTitleHeight())},i.createElement(u,{imgLink:n,key:"1",label:this.lesson.content.title}),i.createElement("div",{className:"lesson__path_container"},i.createElement("div",{className:"lesson__path_mid_tiles"},this.addTopics())),i.createElement(I,{topic:this.topic,rating:this.state.userRating,ratingCallback:this.setUserRating.bind(this),isLoggedIn:this.props.isLoggedIn,label:this.ratingLabel()})),this.renderLesson(),i.createElement("div",{className:"lesson__white_spacer"}),i.createElement(r.a,{selected:this.lesson.content.title,learningPath:"Geometry_1",ref:function(e){t.lessonNavigator=e}}),i.createElement("div",{className:"lesson__white_spacer"}))}}]),t}();function xt(t){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function jt(t){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pt(t,e){return(Pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",function(){return Nt});var Nt=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){return!e||"object"!==xt(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,jt(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pt(t,e)}(t,i.Component),function(t,e,n){e&&Tt(t.prototype,e)}(t,[{key:"render",value:function(){return i.createElement(It,{lesson:this.props.lesson,isLoggedIn:this.props.isLoggedIn})}}]),t}()},9:function(t,e,n){"use strict";n.d(e,"a",function(){return T}),n.d(e,"b",function(){return j});var i=n(0),o=n.n(i),r=n(24);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}o.a.Diagram;var _=o.a.HTMLObject,d=o.a.Point,h=o.a.DiagramElementPrimative,m=o.a.DiagramElementCollection,p=(o.a.DiagramElement,o.a.Rect),y=o.a.Equation,g=o.a.parsePoint,v=o.a.EqnNavigator,b=o.a.tools.misc,E=b.generateUniqueId,w=b.joinObjects,k=o.a.tools.html,O=k.setOnClicks,S=k.applyModifiers,L=k.click;function I(t,e){return{element:t,location:1<arguments.length&&void 0!==e?e:""}}var x=function(){function t(e){c(this,t),this.diagram=e,this.title="",this.modifiers={},this.infoModifiers={},this.showOnly=[],this.blank=[],this.infoElements=[],this.fadeInFromPrev=!0,this.blankTransition={toNext:!1,toPrev:!1,fromNext:!1,fromPrev:!1,toGoto:!1,fromGoto:!1},this.interactiveElementList=[],this.currentInteractiveItem=-1,this.skipWhenComingFromNext=!1,this.refresh=null}return f(t,[{key:"setContent",value:function(){return[]}},{key:"setInfo",value:function(){return[]}},{key:"setOnClicks",value:function(){O(this.modifiers),O(this.infoModifiers)}},{key:"getInfo",value:function(){var t="",e="";"string"==typeof(e="string"==typeof this.setInfo||Array.isArray(this.setInfo)?this.setInfo:this.setInfo())&&(e=[e]);var n=[];return 1<e.length?(e.forEach(function(t){t.startsWith("<li>")||t.startsWith("<ul>")||t.startsWith("</ul>")?n.push(t):n.push("<li>".concat(t,"</li>"))}),"<ul>"!==e[0]&&(t="<ul>")):n=e,n.forEach(function(e){t="".concat(t).concat(e)}),1<e.length&&"<ul>"!==e[0]&&(t="".concat(t,"</ul>")),t=S(t,this.infoModifiers)}},{key:"hideInfoButton",value:function(){var t=document.getElementById("id_lesson__info_button");t instanceof HTMLElement&&t.classList.add("lesson__info_hide")}},{key:"setInfoButton",value:function(){var t=this.getInfo(),e=document.getElementById("id_lesson__info_button"),n=document.getElementById("id_lesson__info_box__text");e instanceof HTMLElement&&(t?(e.classList.remove("lesson__info_hide"),n instanceof HTMLElement&&(n.innerHTML=t)):e.classList.add("lesson__info_hide"))}},{key:"setInteractiveElementsButton",value:function(){var t=document.getElementById("id_lesson__interactive_element_button");t instanceof HTMLElement&&(0<this.interactiveElementList.length&&this.getNextInteractiveItem()?(this.currentInteractiveItem=-1,t.classList.remove("lesson__interactive_element_button__hide")):t.classList.add("lesson__interactive_element_button__hide"))}},{key:"getNextInteractiveItem",value:function(){if(0<this.interactiveElementList.length)for(var t=this.currentInteractiveItem+1,e=0;e<this.interactiveElementList.length;){t>this.interactiveElementList.length-1&&(t=0);var n=this.interactiveElementList[t].element,i=!1;if("string"==typeof n&&(n=document.getElementById(n)),n instanceof HTMLElement){var o=n.getBoundingClientRect();0<o.left&&0<o.width&&(i=!0)}else n instanceof h&&n.drawingObject instanceof _?n.isShown&&(i=!0):(n instanceof h||n instanceof m)&&n.isShown&&(n.isMovable||n.isTouchable||n.isInteractive)&&(i=!0);var r=!1;if(n instanceof m?(n.isTouchable||n.isMovable||n.hasTouchableElements||n.isInteractive)&&(r=!0):n instanceof h?(n.isTouchable||n.isMovable||n.isInteractive)&&(r=!0):n instanceof HTMLElement&&(r=!0,i=!n.classList.contains("not_interactive_word")),i&&r&&null!=n&&!1!==n.isInteractive)return this.currentInteractiveItem=t,{element:n,location:this.interactiveElementList[t].location};(t+=1)>this.interactiveElementList.length-1&&(t=0),e+=1}return null}},{key:"getContent",value:function(t){var e=!(0<arguments.length&&void 0!==t)||t;"function"==typeof this.modifiers&&(this.modifiers=this.modifiers());var n="",i="";"string"==typeof(i="string"==typeof this.setContent||Array.isArray(this.setContent)?this.setContent:this.setContent())&&(i=[i]);var o=[];return i.forEach(function(t){"<"!==t.charAt(0)?o.push("<p>".concat(t,"</p>")):o.push(t)}),o.forEach(function(t){n="".concat(n).concat(t)}),e&&(n=S(n,this.modifiers)),n}},{key:"setSteadyState",value:function(t){}},{key:"setEnterState",value:function(t){}},{key:"setLeaveState",value:function(){}},{key:"setBlanks",value:function(){var t=this;this.blank.forEach(function(e){e in t.blankTransition&&(t.blankTransition[e]=!0)})}},{key:"getInteractiveElementIndex",value:function(t){var e=t;"string"==typeof t&&(e=document.getElementById(t));for(var n=0;n<this.interactiveElementList.length;n+=1){var i=this.interactiveElementList[n];if(i.element===e||i.element===t)return n}return-1}},{key:"removeInteractiveElement",value:function(t){var e=this.getInteractiveElementIndex(t);-1<e&&this.interactiveElementList.splice(e,1)}},{key:"replaceInteractiveElement",value:function(t,e){var n=this.getInteractiveElementIndex(t);return-1<n&&(this.interactiveElementList[n]=I(t,e),!0)}},{key:"replaceOrAddInteractiveElement",value:function(t,e){this.replaceInteractiveElement(t,e)||this.interactiveElementList.push(I(t,e))}},{key:"setInteractiveElements",value:function(){var t=this;if(this.interactiveElementList=[],"interactiveElementsOnly"in this)this.interactiveElementsOnly.forEach(function(e){e instanceof m||e instanceof h?t.replaceOrAddInteractiveElement(e,""):"string"==typeof e?null!=document.getElementById(e)&&t.replaceOrAddInteractiveElement(e,""):t.replaceOrAddInteractiveElement(e.element,e.location)});else{for(var e=document.getElementsByClassName("interactive_word"),n=0;n<e.length;n+=1){var i=e[n];null!=i.id?this.interactiveElementList.push({element:i.id,location:"topRightText"}):this.interactiveElementList.push({element:i,location:"topRightText"})}e=document.getElementsByClassName("interactive_top_right");for(var o=0;o<e.length;o+=1){var r=e[o],s=window.getComputedStyle(r);"hidden"!==s.visibility&&"none"!==s.display&&(null!=r.id&&""!==r.id?this.interactiveElementList.push({element:r.id,location:"topRightText"}):this.interactiveElementList.push({element:r,location:"topRightText"}))}this.diagram.elements.getAllPossiblyInteractiveElements().forEach(function(e){t.interactiveElementList.push({element:e,location:""})})}"interactiveElements"in this&&this.interactiveElements.forEach(function(e){e instanceof m||e instanceof h?t.replaceOrAddInteractiveElement(e,""):t.replaceOrAddInteractiveElement(e.element,e.location)}),"interactiveElementsRemove"in this&&this.interactiveElementsRemove.forEach(function(e){t.removeInteractiveElement(e)})}},{key:"setVisible",value:function(){if("showOnly"in this){var t=this.showOnly;Array.isArray(t)?this.diagram.elements.showOnly(t):t()}if("hideOnly"in this){var e=this.hideOnly;Array.isArray(e)?this.diagram.elements.hideOnly(e):e()}if("show"in this){var n=this.show;Array.isArray(n)?n.forEach(function(t){t instanceof m?t.showAll():t.show()}):n()}if("hide"in this){var i=this.hide;Array.isArray(i)?i.forEach(function(t){t instanceof m?t.hideAll():t.hide()}):i()}}},{key:"getState",value:function(t){return{}}},{key:"transitionToNext",value:function(t){(0<arguments.length&&void 0!==t?t:function(){})()}},{key:"transitionFromNext",value:function(t){(0<arguments.length&&void 0!==t?t:function(){})()}},{key:"transitionToPrev",value:function(t){(0<arguments.length&&void 0!==t?t:function(){})()}},{key:"transitionFromPrev",value:function(t){(0<arguments.length&&void 0!==t?t:function(){})()}},{key:"transitionFromAny",value:function(t){(0<arguments.length&&void 0!==t?t:function(){})()}},{key:"transitionToAny",value:function(t){(0<arguments.length&&void 0!==t?t:function(){})()}}]),t}(),T=function(){function t(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"lesson__content";return c(this,t),(e=function(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,a(t).call(this,n))).diagramHtmlId="".concat(n,"_diagram"),e.animationEnd=function(){for(var t=document.createElement("fakeelement"),e={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"},n=0;n<Object.keys(e).length;n+=1){var i=Object.keys(e)[n];if(i in t.style)return e[i]}return""}(),null==window.quickReference&&(window.quickReference={}),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(t,r.a),f(t,[{key:"initialize",value:function(){var t=this;this.setDiagram(this.diagramHtmlId),this.next=function(){t.diagram.lesson.nextSection()},this.prev=function(){t.diagram.lesson.nextSection()},this.setElementContent(),this.addSections(),this.addInfoBox(),this.addStar(),this.diagram.setFirstTransform()}},{key:"toggleInfo",value:function(t){var e=0<arguments.length&&void 0!==t?t:null,n=document.getElementById("id_lesson__info_button"),i=document.getElementById("id_lesson__info_box");n instanceof HTMLElement&&i instanceof HTMLElement&&("boolean"==typeof e&&!0===e?(n.classList.add("lesson__info_button_show"),i.classList.remove("lesson__info_hide")):"boolean"==typeof e&&!1===e?(n.classList.remove("lesson__info_button_show"),i.classList.add("lesson__info_hide")):(n.classList.toggle("lesson__info_button_show"),i.classList.toggle("lesson__info_hide")),i.classList.contains("lesson__info_hide")?this.diagram.elements.hasTouchableElements=!0:this.diagram.elements.hasTouchableElements=!1)}},{key:"prepareToShowQR",value:function(){var t=document.getElementById("presentation_lesson__qr__overlay");null!=t&&(t.style.zIndex="10");var e=document.getElementById("lesson__button-next");e&&e.classList.add("lesson__button-next-disabled");var n=document.getElementById("lesson__button-previous");n&&n.classList.add("lesson__button-prev-disabled");var i=document.getElementById("id__lesson__button-goto_container");i&&i.classList.add("lesson__button-goto_container-disabled");var o=document.getElementById("id_lesson__interactive_element_button");o&&o.classList.add("lesson__interactive_element_button__disable")}},{key:"prepareToHideQR",value:function(){var t=document.getElementById("presentation_lesson__qr__overlay");null!=t&&(t.style.zIndex="-1");var e=document.getElementById("lesson__button-next");e&&this.diagram.lesson.currentSectionIndex<this.diagram.lesson.content.sections.length-1&&e.classList.remove("lesson__button-next-disabled");var n=document.getElementById("lesson__button-previous");n&&0<this.diagram.lesson.currentSectionIndex&&n.classList.remove("lesson__button-prev-disabled");var i=document.getElementById("id__lesson__button-goto_container");i&&i.classList.remove("lesson__button-goto_container-disabled");var o=document.getElementById("id_lesson__interactive_element_button");o&&o.classList.remove("lesson__interactive_element_button__disable")}},{key:"addInfoBox",value:function(){var t=document.createElement("div");t.classList.add("lesson__info_box"),t.classList.add("lesson__info_hide"),t.id="id_lesson__info_box";var e=document.createElement("div");e.classList.add("lesson__info_box__title"),t.appendChild(e);var n=document.createElement("div");n.classList.add("lesson__info_box__title_i"),n.innerHTML="i",e.appendChild(n);var i=document.createElement("div");i.classList.add("lesson__info_box__close"),i.id="id_lesson__info_box__close",i.innerHTML="X",i.onclick=this.toggleInfo.bind(this),e.appendChild(i);var o=document.createElement("div");o.classList.add("lesson__info_box__title_text"),o.innerHTML="What can you do on this page?",e.appendChild(o);var r=document.createElement("div");r.classList.add("lesson__info_box__text"),r.id="id_lesson__info_box__text",t.appendChild(r),this.diagram.htmlCanvas.appendChild(t)}},{key:"pulseStar",value:function(){var t=document.getElementById("id_lesson__star");t instanceof HTMLElement&&t.classList.toggle("lesson__info_star_pulse")}},{key:"highlightInteractiveElement",value:function(t,e){var n=this,i=document.getElementById("id_lesson__star");if(i instanceof HTMLElement){var o=function t(){i.removeEventListener(n.animationEnd,t),i.classList.remove("lesson__info_star_pulse"),i.offsetWidth};o();var r=new d(0,0);if(t instanceof h||t instanceof m){var s;if("center"===e||""===e&&"center"===t.interactiveLocation)s=t.getCenterDiagramPosition();else if("zero"===e||""===e&&"zero"===t.interactiveLocation)s=t.getDiagramPosition();else if("topLeft"===e||""===e&&"topLeft"===t.interactiveLocation){var a=t.getDiagramBoundingRect();s=new d(a.left,a.top)}else if("topRight"===e||""===e&&"topRight"===t.interactiveLocation){var l=t.getDiagramBoundingRect();s=new d(l.right,l.top)}else if("vertexLeft"===e||""===e&&"vertexLeft"===t.interactiveLocation){var c;t.getVertexSpaceBoundaries().forEach(function(t){t.forEach(function(t){null==c?c=t._dup():c.x>t.x&&(c=t._dup())})}),s=c?(c.y=0,t.getVertexSpaceDiagramPosition(c)):new d(0,0)}else if(e instanceof d||"number"==typeof e||Array.isArray(e)){var u=g(e),f=t.getDiagramBoundingRect();s=new d(f.left+u.x*f.width,f.bottom+u.y*f.height)}else s=t.getVertexSpaceDiagramPosition(g(t.interactiveLocation));r=s.transformBy(this.diagram.spaceTransforms.diagramToPixel.matrix())}else{var _=t;if("string"==typeof t&&(_=document.getElementById(t)),_ instanceof HTMLElement){var p=_.getBoundingClientRect(),y=parseFloat(window.getComputedStyle(_,null).getPropertyValue("font-size")),v=this.diagram.htmlCanvas.getBoundingClientRect();if("topLeft"===e)r=new d(p.left-v.left,p.top-v.top);else if("topRight"===e)r=new d(p.left-v.left+p.width,p.top-v.top);else if("topRightText"===e)r=new d(p.left-v.left+p.width,p.top-v.top+.3*y);else if("vertexLeft"===e)r=new d(p.left-v.left+.05*p.width,p.top-v.top+.5*p.height);else if(e instanceof d||"number"==typeof e||Array.isArray(e)){var b=g(e);r=new d(p.left-v.left+p.width*b.x,p.top-v.top+p.height*b.y)}else r=new d(p.left-v.left+p.width/2,p.top-v.top+p.height/2)}}i.classList.add("lesson__info_star_pulse");var E=i.getBoundingClientRect();i.style.left="".concat(r.x-E.width/2,"px"),i.style.top="".concat(r.y-E.height/2,"px"),i.addEventListener(this.animationEnd,o.bind(this))}}},{key:"bindNext",value:function(t){var e=0<arguments.length&&void 0!==t?t:this.diagram.layout.colors.diagram.action;return L(this.next,[this],e)}},{key:"qr",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:{},i={color:this.diagram.layout.colors.diagram.action,classes:"lesson__qr_action_word"},o=i;return Array.isArray(n)?o.color=n:(o=w({},i,n)).classes="lesson__qr_action_word ".concat(o.classes),L(window.lessonFunctions.qr,[window.lessonFunctions,"",t],o)}},{key:"addStar",value:function(){var t=document.createElement("img");t.setAttribute("src","/static/assets/star.png"),t.id="id_lesson__star",t.classList.add("lesson__info_star"),t.alt="active item",this.diagram.htmlCanvas.appendChild(t)}},{key:"setTitle",value:function(){this.title=""}},{key:"setDiagram",value:function(t){}},{key:"setElementContent",value:function(){}},{key:"addSections",value:function(){}},{key:"addSection",value:function(){for(var t=new x(this.diagram),e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=Object.assign.apply(Object,[{}].concat(n));Object.keys(o).forEach(function(e){t[e]=o[e]}),this.sections.push(t)}},{key:"addSectionEqnStep",value:function(t){for(var e=w({},{animate:"move",duration:.8},t),n=arguments.length,i=new Array(1<n?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var r=Object.assign.apply(Object,[{}].concat(i)),s=e.eqn,a=e.animate,l=e.duration,c=null;null!=s.table&&(s=(c=s).eqn);var u=e.from,f=e.to,_={transitionFromPrev:function(t){var e=t;null!=r.transitionFromPrev&&(e=r.transitionFromPrev.bind(r,t)),s.showForm(u),u!==f?(s.goToForm({name:f,duration:l,callback:e,animate:a}),null!=c&&c.updateButtons()):e()},setSteadyState:function(){null!=r.setSteadyState&&r.setSteadyState(),s.showForm(f),null!=c&&c.updateButtons()}},d=Object.assign.apply(Object,[{}].concat(i,[_]));this.addSection(d)}},{key:"addSectionEqnStory",value:function(t){for(var e=this,n={animate:"move",duration:1,dissolveInTime:1,dissolveOutTime:.5,pulseDuration:1,pulseScale:1.1,opacity:.6},i=arguments.length,o=new Array(1<i?i-1:0),r=1;r<i;r++)o[r-1]=arguments[r];var s=Object.assign.apply(Object,[{}].concat(o)),a={transitionFromPrev:function(i){e.diagram.setFirstTransform();var o=i;function r(){(a+=1)===t.length&&o()}null!=s.transitionFromPrev&&(o=s.transitionFromPrev.bind(s,i));var a=0;t.forEach(function(i,o){if(null!=i.nav||null!=i.eqn){var s=w({},n,i),a=s.form,l=s.duration,c=s.toForm,u=s.dissolveInTime,f=s.dissolveOutTime,_=s.pulseDuration,d=s.pulseScale,h=s.animate,p=s.opacity,g=s.moveFrom,b=s.eqn,E=s.nav;if(null==b&&(b=E.eqn),null==E&&(E={showForm:function(t){},setOpacity:function(t){}}),null!=c||null!=a){if(null==c&&null!=a)return"dissolve"===h?(b.hide(),void b.goToForm({name:a,animate:"dissolve",duration:l,dissolveInTime:u,dissolveOutTime:f,callback:L.bind(e,a)})):void L(a);if(null!=a||null==c)if(a!==c){if(b.showForm(s.form),null==s.moveFrom)return E.showForm(c),b.showForm(a),void b.goToForm({name:c,animate:h,duration:l,dissolveInTime:u,dissolveOutTime:f,callback:L.bind(e,c)});var k=g,O=function(){},S=function(){};s.moveFrom instanceof m&&(k=g.getPosition(),O=function(){g.pulseScaleNow(_,d)},(g instanceof v||g instanceof y)&&(S=function(){g.showForm(a),g.setOpacity(.5)})),b.animations.new().position({target:k}).trigger({callback:O}).pulse({duration:_,scale:d}).trigger({callback:S}).position({start:k,target:b.getPosition(),duration:l}).whenFinished(function(){E.showForm(c),b.showForm(a),b.goToForm({name:c,animate:"move",duration:l,dissolveInTime:u,dissolveOutTime:f,callback:function(){E.showForm(c),r()}})}).start()}else L(a);else L(c)}}function L(e){E.showForm(e),b.showForm(e),r(),o<t.length-1&&(b.setOpacity(p),E.setOpacity(p))}})},setSteadyState:function(){null!=s.setSteadyState&&s.setSteadyState(),t.forEach(function(e,i){if(null!=e.nav||null!=e.eqn){var o=w({},n,e),r=o.form,s=o.toForm,a=o.opacity,l=o.eqn,c=o.nav;null==l&&(l=c.eqn),null==c&&(c={showForm:function(t){},setOpacity:function(t){}}),null==s&&null!=r?(c.showForm(r),l.showForm(r)):null!=s&&(c.showForm(s),l.showForm(s)),i<t.length-1&&(l.setOpacity(a),c.setOpacity(a))}})}},l=Object.assign.apply(Object,[{}].concat(o,[a]));this.addSection(l)}}]),t}();function j(t){var e={id:"id_figure__".concat(E()),scale:"fit",window:[-1,-1,2,2],left:null,top:null,width:null,height:null,borderDebug:!1,classes:""},n=w(e,t),i="",o="",r="",s="",a="",l="";return null!=n.left&&(i="margin-left:".concat(n.left,"%;")),null!=n.top&&(o="margin-top:".concat(n.top,"%;")),null!=n.left&&(r="width:".concat(n.width,"%;")),null!=n.left&&(s="height:".concat(n.height,"%;")),n.borderDebug&&(a="border-style:solid;border-width:1px;border-color:red;"),n.classes&&(l=' class="'.concat(n.classes,'"')),(Array.isArray(n.element)?n.element:[n.element]).forEach(function(t){t.tieToHTML.element=n.id,t.tieToHTML.scale=n.scale,null!=n.window&&(Array.isArray(n.window)?t.tieToHTML.window=new p(n.window[0],n.window[1],n.window[2],n.window[3]):t.tieToHTML.window=n.window)}),'<div id="'.concat(n.id,'" style="').concat(r).concat(s).concat(o).concat(i).concat(a,'"').concat(l,"></div>")}},99:function(t,e,n){"use strict";var i=n(27);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=function(){function t(e){var n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),(n=function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,r(t).call(this,e))).type="links",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(t,i.a),t}();e.a=a}}]);